<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>IPL 2024|SAMTV</title>
  <link rel='stylesheet' href='https://cdn.plyr.io/3.5.6/plyr.css'>
</head>
<style>
html {
font-family: sans-serif;
background: #000;
margin: 0;
padding: 0;
  height:100%;
}
</style>
<body>
<video controls crossorigin playsinline data-poster="https://cdn.plyr.io/static/demo/View_From_A_Blue_Moon_Trailer-HD.jpg" class="js-player" id="my-video">
  <!-- Video files -->
  <source src="" id="video-source" />
</video>

<script src='https://cdn.plyr.io/3.6.3/plyr.js'></script>
<script>
  // Get the video source element
  var videoSource = document.getElementById("video-source");

  // Function to fetch the video URL from another website
  function fetchVideoUrlAndPlay() {
    // Get the request ID from the URL parameters
    var urlParams = new URLSearchParams(window.location.search);
    var requestId = urlParams.get('id');

    // Make an HTTP request to fetch the video URL
    fetch("https://samirshrivastav.000webhostapp.com/index.m3u8?id=" + requestId)
      .then(response => {
        if (!response.ok) {
          throw new Error('Network response was not ok');
        }
        return response.text();
      })
      .then(data => {
        console.log('Fetched video URL:', data);
        // Set the fetched video URL as the source
        videoSource.src = data.trim();

        // Initialize Plyr player
        const player = new Plyr('#my-video');
        player.play();
      })
      .catch(error => {
        console.error('Error fetching video URL:', error);
      });
  }

  // Call the function to fetch the video URL and play the video
  fetchVideoUrlAndPlay();
</script>
</body>
</html>
